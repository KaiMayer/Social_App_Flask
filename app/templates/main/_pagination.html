{% if pagination.has_next %}
    <a class="infinite-more-link" href="
            {% if pagination.has_next %}{{ url_for(endpoint='main.index', page = pagination.page + 1) }}{% else %}#{% endif %}"></a>
    meow
    <div class="loading">
        <div class="d-flex align-items-center container">
            <strong>Loading...</strong>
            <div class="spinner-border ml-auto" role="status" aria-hidden="true"></div>
        </div>
    </div>
{% else %}
    <div>
        <p> No items</p>
    </div>
{% endif %}

{% block scripts %}
    <script src="https://code.jquery.com/jquery-2.2.4.js"
            integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/3.1.1/shortcuts/infinite.min.js"></script>
    <script>
        $(document).ready(function () {
            let infinite = new Waypoint.Infinite({
                element: $('.infinite-container')[0],
                handler: function (direction) {
                },
                offset: 'bottom-in-view',
                onBeforePageLoad: function () {
                    $('.loading').show();
                },
                onAfterPageLoad: function () {
                    $('.loading').hide();
                }
            });
        });
    </script>
{% endblock %}